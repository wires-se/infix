config BR2_PACKAGE_NETD
	bool "netd"
	select BR2_PACKAGE_LIBITE
	select BR2_PACKAGE_LIBCONFUSE
	help
	  Network route daemon. Manages static routes and RIP routing.
	  Reads configuration from /etc/netd/conf.d/*.conf.

	  With FRR: Full routing via gRPC, vtysh, or frr.conf.
	  Without FRR: Standalone Linux backend via rtnetlink.

	  https://github.com/kernelkit/infix

if BR2_PACKAGE_NETD

choice
	prompt "FRR backend"
	default BR2_PACKAGE_NETD_FRR_VTYSH if BR2_PACKAGE_FRR
	default BR2_PACKAGE_NETD_LINUX

config BR2_PACKAGE_NETD_FRR_VTYSH
	bool "FRR vtysh"
	depends on BR2_PACKAGE_FRR
	help
	  Enable FRR integration via vtysh -b.
	  netd generates incremental config diffs and applies
	  them to running FRR daemons via vtysh -b.

	  FRR daemons run as standalone finit services (no watchfrr).
	  Provides static routes and RIP support.

config BR2_PACKAGE_NETD_FRR_CONF
	bool "FRR frr.conf"
	depends on BR2_PACKAGE_FRR
	help
	  Enable FRR integration via frr.conf file generation.
	  netd assembles a single /etc/frr/frr.conf from routing
	  config and signals FRR to reload via frrinit.sh/watchfrr.

	  Provides full routing support (static routes, RIP, OSPF).

config BR2_PACKAGE_NETD_FRR_GRPC
	bool "FRR gRPC"
	depends on BR2_PACKAGE_FRR
	select BR2_PACKAGE_FRR_GRPC
	select BR2_PACKAGE_HOST_PROTOBUF
	help
	  Enable FRR integration via gRPC northbound API.
	  Provides full routing support (static routes, RIP, OSPF).

config BR2_PACKAGE_NETD_LINUX
	bool "Linux kernel"
	help
	  Use Linux kernel backend (rtnetlink) with static routes
	  only. No FRR dependency.

endchoice

endif
